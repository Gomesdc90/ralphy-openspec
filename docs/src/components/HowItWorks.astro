---
// How It Works section
---

<section class="section" id="how-it-works">
  <div class="container">
    <h4 class="section-title">How It Works</h4>
    
    <div class="concepts">
      <div class="concept">
        <div class="concept-header">
          <span class="concept-num">01</span>
          <h3>Ralph Wiggum Loop</h3>
        </div>
        <p>AI receives the <strong>same prompt repeatedly</strong> until task completion. Each iteration, it sees previous work in files and self-corrects.</p>
        <pre><code>while !done; do
  ai "Build X. Output DONE when complete."
done</code></pre>
      </div>
      
      <div class="concept">
        <div class="concept-header">
          <span class="concept-num">02</span>
          <h3>OpenSpec</h3>
        </div>
        <p><strong>Specs before code.</strong> Structured specifications with acceptance criteria ensure AI knows exactly what to build.</p>
        <pre><code>openspec/
├── specs/      # Truth
├── changes/    # Work
└── archive/    # Done</code></pre>
      </div>
    </div>

    <div class="workflow">
      <div class="workflow-label">Workflow</div>
      <div class="workflow-steps">
        <div class="step">
          <span class="step-name">Plan</span>
          <span class="step-desc">PRD → Spec</span>
        </div>
        <div class="step-arrow">→</div>
        <div class="step">
          <span class="step-name">Implement</span>
          <span class="step-desc">Loop</span>
        </div>
        <div class="step-arrow">→</div>
        <div class="step">
          <span class="step-name">Validate</span>
          <span class="step-desc">Tests</span>
        </div>
        <div class="step-arrow">→</div>
        <div class="step">
          <span class="step-name">Archive</span>
          <span class="step-desc">Merge</span>
        </div>
      </div>
    </div>

    <div class="benefits">
      <div class="benefits-label">Why This Works</div>
      <div class="benefits-grid">
        <div class="benefit">
          <span class="benefit-problem">Vague requirements</span>
          <span class="benefit-arrow">→</span>
          <span class="benefit-solution">Specs lock intent</span>
        </div>
        <div class="benefit">
          <span class="benefit-problem">AI stops mid-task</span>
          <span class="benefit-arrow">→</span>
          <span class="benefit-solution">Loop retries</span>
        </div>
        <div class="benefit">
          <span class="benefit-problem">No verification</span>
          <span class="benefit-arrow">→</span>
          <span class="benefit-solution">Tests validate</span>
        </div>
        <div class="benefit">
          <span class="benefit-problem">Manual setup</span>
          <span class="benefit-arrow">→</span>
          <span class="benefit-solution">One command</span>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section credits-section" id="credits">
  <div class="container">
    <h4 class="section-title">Credits</h4>
    <div class="credits">
      <a href="https://ghuntley.com/ralph" target="_blank" rel="noopener" class="credit">
        <span class="credit-name">Ralph Methodology</span>
        <span class="credit-by">Geoffrey Huntley</span>
      </a>
      <a href="https://github.com/Th0rgal/opencode-ralph-wiggum" target="_blank" rel="noopener" class="credit">
        <span class="credit-name">opencode-ralph-wiggum</span>
        <span class="credit-by">@Th0rgal</span>
      </a>
      <a href="https://github.com/Fission-AI/OpenSpec" target="_blank" rel="noopener" class="credit">
        <span class="credit-name">OpenSpec</span>
        <span class="credit-by">Fission-AI</span>
      </a>
    </div>
  </div>
</section>

<style>
  .concepts {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-bottom: 2.5rem;
  }

  .concept {
    padding: 1.25rem;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 8px;
  }

  .concept-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .concept-num {
    font-size: 10px;
    color: var(--color-text-muted);
    opacity: 0.5;
  }

  .concept h3 {
    font-size: 13px;
    font-weight: 500;
    margin: 0;
  }

  .concept p {
    font-size: 12px;
    color: var(--color-text-secondary);
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  .concept pre {
    font-size: 11px;
    margin: 0;
  }

  .workflow {
    text-align: center;
    margin-bottom: 2.5rem;
  }

  .workflow-label,
  .benefits-label {
    font-size: 10px;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 1rem;
  }

  .workflow-steps {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 8px;
  }

  .step {
    display: flex;
    flex-direction: column;
    text-align: center;
    padding: 0 0.5rem;
  }

  .step-name {
    font-size: 12px;
    font-weight: 500;
    color: var(--color-text);
  }

  .step-desc {
    font-size: 10px;
    color: var(--color-text-muted);
  }

  .step-arrow {
    color: var(--color-text-muted);
    opacity: 0.3;
    font-size: 12px;
  }

  .benefits {
    text-align: center;
  }

  .benefits-grid {
    display: inline-grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
    text-align: left;
  }

  .benefit {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 6px;
    font-size: 11px;
  }

  .benefit-problem {
    color: var(--color-text-muted);
    text-decoration: line-through;
    opacity: 0.7;
  }

  .benefit-arrow {
    color: var(--color-text-muted);
    opacity: 0.3;
  }

  .benefit-solution {
    color: var(--color-text-secondary);
  }

  .credits-section {
    border-bottom: none;
  }

  .credits {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .credit {
    display: flex;
    flex-direction: column;
    padding: 0.75rem 1rem;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 6px;
    text-align: center;
    transition: border-color 0.15s ease;
  }

  .credit:hover {
    border-color: var(--color-border-hover);
  }

  .credit-name {
    font-size: 12px;
    color: var(--color-text);
    margin-bottom: 0.125rem;
  }

  .credit-by {
    font-size: 10px;
    color: var(--color-text-muted);
  }

  @media (max-width: 640px) {
    .concepts {
      grid-template-columns: 1fr;
    }

    .workflow-steps {
      flex-wrap: wrap;
      justify-content: center;
    }

    .step-arrow {
      display: none;
    }

    .benefits-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
